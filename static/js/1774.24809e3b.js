"use strict";(self.webpackChunkdexguru=self.webpackChunkdexguru||[]).push([[1774],{75050:(r,e,t)=>{t.d(e,{i:()=>n});const n="json-wallets/5.7.0"},21774:(r,e,t)=>{t.r(e),t.d(e,{decryptCrowdsale:()=>g,decryptJsonWallet:()=>m,decryptJsonWalletSync:()=>w,decryptKeystore:()=>N.pe,decryptKeystoreSync:()=>N.hb,encryptKeystore:()=>N.HI,getJsonWalletAddress:()=>y.Rb,isCrowdsaleWallet:()=>y.LW,isKeystoreWallet:()=>y.aO});var n=t(39485),o=t.n(n),s=t(789),i=t(80928),a=t(17235),c=t(28280),l=t(22172),u=t(99138),p=t(78663),f=t(75050),h=t(36379);const E=new p.Logger(f.i);class d extends u.Description{isCrowdsaleAccount(r){return!(!r||!r._isCrowdsaleAccount)}}function g(r,e){const t=JSON.parse(r);e=(0,h.Ij)(e);const n=(0,s.getAddress)((0,h.gx)(t,"ethaddr")),u=(0,h.p3)((0,h.gx)(t,"encseed"));u&&u.length%16===0||E.throwArgumentError("invalid encseed","json",r);const p=(0,i.arrayify)((0,c.n)(e,e,2e3,32,"sha256")).slice(0,16),f=u.slice(0,16),g=u.slice(16),y=new(o().ModeOfOperation.cbc)(p,f),N=o().padding.pkcs7.strip((0,i.arrayify)(y.decrypt(g)));let m="";for(let o=0;o<N.length;o++)m+=String.fromCharCode(N[o]);const w=(0,l.Y0)(m),R=(0,a.keccak256)(w);return new d({_isCrowdsaleAccount:!0,address:n,privateKey:R})}var y=t(62029),N=t(82377);function m(r,e,t){if((0,y.LW)(r)){t&&t(0);const n=g(r,e);return t&&t(1),Promise.resolve(n)}return(0,y.aO)(r)?(0,N.pe)(r,e,t):Promise.reject(new Error("invalid JSON wallet"))}function w(r,e){if((0,y.LW)(r))return g(r,e);if((0,y.aO)(r))return(0,N.hb)(r,e);throw new Error("invalid JSON wallet")}},62029:(r,e,t)=>{t.d(e,{LW:()=>o,aO:()=>s,Rb:()=>i});var n=t(789);function o(r){let e=null;try{e=JSON.parse(r)}catch(t){return!1}return e.encseed&&e.ethaddr}function s(r){let e=null;try{e=JSON.parse(r)}catch(t){return!1}return!(!e.version||parseInt(e.version)!==e.version||3!==parseInt(e.version))}function i(r){if(o(r))try{return(0,n.getAddress)(JSON.parse(r).ethaddr)}catch(e){return null}if(s(r))try{return(0,n.getAddress)(JSON.parse(r).address)}catch(e){return null}return null}},82377:(r,e,t)=>{t.d(e,{hb:()=>T,pe:()=>U,HI:()=>v});var n=t(39485),o=t.n(n),s=t(93643),i=t.n(s),a=t(789),c=t(80928),l=t(54752),u=t(17235),p=t(28280),f=t(32899),h=t(99138),E=t(22521),d=t(36379),g=t(78663),y=t(75050),N=function(r,e,t,n){return new(t||(t=Promise))((function(o,s){function i(r){try{c(n.next(r))}catch(e){s(e)}}function a(r){try{c(n.throw(r))}catch(e){s(e)}}function c(r){var e;r.done?o(r.value):(e=r.value,e instanceof t?e:new t((function(r){r(e)}))).then(i,a)}c((n=n.apply(r,e||[])).next())}))};const m=new g.Logger(y.i);function w(r){return null!=r&&r.mnemonic&&r.mnemonic.phrase}class R extends h.Description{isKeystoreAccount(r){return!(!r||!r._isKeystoreAccount)}}function I(r,e){const t=(0,d.p3)((0,d.gx)(r,"crypto/ciphertext"));if((0,c.hexlify)((0,u.keccak256)((0,c.concat)([e.slice(16,32),t]))).substring(2)!==(0,d.gx)(r,"crypto/mac").toLowerCase())throw new Error("invalid password");const n=function(r,e,t){if("aes-128-ctr"===(0,d.gx)(r,"crypto/cipher")){const n=(0,d.p3)((0,d.gx)(r,"crypto/cipherparams/iv")),s=new(o().Counter)(n),i=new(o().ModeOfOperation.ctr)(e,s);return(0,c.arrayify)(i.decrypt(t))}return null}(r,e.slice(0,16),t);n||m.throwError("unsupported cipher",g.Logger.errors.UNSUPPORTED_OPERATION,{operation:"decrypt"});const s=e.slice(32,64),i=(0,E.computeAddress)(n);if(r.address){let e=r.address.toLowerCase();if("0x"!==e.substring(0,2)&&(e="0x"+e),(0,a.getAddress)(e)!==i)throw new Error("address mismatch")}const p={_isKeystoreAccount:!0,address:i,privateKey:(0,c.hexlify)(n)};if("0.1"===(0,d.gx)(r,"x-ethers/version")){const e=(0,d.p3)((0,d.gx)(r,"x-ethers/mnemonicCiphertext")),t=(0,d.p3)((0,d.gx)(r,"x-ethers/mnemonicCounter")),n=new(o().Counter)(t),i=new(o().ModeOfOperation.ctr)(s,n),a=(0,d.gx)(r,"x-ethers/path")||l.defaultPath,u=(0,d.gx)(r,"x-ethers/locale")||"en",h=(0,c.arrayify)(i.decrypt(e));try{const r=(0,l.entropyToMnemonic)(h,u),e=l.HDNode.fromMnemonic(r,null,u).derivePath(a);if(e.privateKey!=p.privateKey)throw new Error("mnemonic mismatch");p.mnemonic=e.mnemonic}catch(f){if(f.code!==g.Logger.errors.INVALID_ARGUMENT||"wordlist"!==f.argument)throw f}}return new R(p)}function O(r,e,t,n,o){return(0,c.arrayify)((0,p.n)(r,e,t,n,o))}function C(r,e,t,n,o){return Promise.resolve(O(r,e,t,n,o))}function A(r,e,t,n,o){const s=(0,d.Ij)(e),i=(0,d.gx)(r,"crypto/kdf");if(i&&"string"===typeof i){const e=function(r,e){return m.throwArgumentError("invalid key-derivation function parameters",r,e)};if("scrypt"===i.toLowerCase()){const t=(0,d.p3)((0,d.gx)(r,"crypto/kdfparams/salt")),a=parseInt((0,d.gx)(r,"crypto/kdfparams/n")),c=parseInt((0,d.gx)(r,"crypto/kdfparams/r")),l=parseInt((0,d.gx)(r,"crypto/kdfparams/p"));a&&c&&l||e("kdf",i),0!==(a&a-1)&&e("N",a);const u=parseInt((0,d.gx)(r,"crypto/kdfparams/dklen"));return 32!==u&&e("dklen",u),n(s,t,a,c,l,64,o)}if("pbkdf2"===i.toLowerCase()){const n=(0,d.p3)((0,d.gx)(r,"crypto/kdfparams/salt"));let o=null;const i=(0,d.gx)(r,"crypto/kdfparams/prf");"hmac-sha256"===i?o="sha256":"hmac-sha512"===i?o="sha512":e("prf",i);const a=parseInt((0,d.gx)(r,"crypto/kdfparams/c")),c=parseInt((0,d.gx)(r,"crypto/kdfparams/dklen"));return 32!==c&&e("dklen",c),t(s,n,a,c,o)}}return m.throwArgumentError("unsupported key-derivation function","kdf",i)}function T(r,e){const t=JSON.parse(r);return I(t,A(t,e,O,i().syncScrypt))}function U(r,e,t){return N(this,void 0,void 0,(function*(){const n=JSON.parse(r);return I(n,yield A(n,e,C,i().scrypt,t))}))}function v(r,e,t,n){try{if((0,a.getAddress)(r.address)!==(0,E.computeAddress)(r.privateKey))throw new Error("address/privateKey mismatch");if(w(r)){const e=r.mnemonic;if(l.HDNode.fromMnemonic(e.phrase,null,e.locale).derivePath(e.path||l.defaultPath).privateKey!=r.privateKey)throw new Error("mnemonic mismatch")}}catch(T){return Promise.reject(T)}"function"!==typeof t||n||(n=t,t={}),t||(t={});const s=(0,c.arrayify)(r.privateKey),p=(0,d.Ij)(e);let h=null,g=null,y=null;if(w(r)){const e=r.mnemonic;h=(0,c.arrayify)((0,l.mnemonicToEntropy)(e.phrase,e.locale||"en")),g=e.path||l.defaultPath,y=e.locale||"en"}let N=t.client;N||(N="ethers.js");let m=null;m=t.salt?(0,c.arrayify)(t.salt):(0,f.O)(32);let R=null;if(t.iv){if(R=(0,c.arrayify)(t.iv),16!==R.length)throw new Error("invalid iv")}else R=(0,f.O)(16);let I=null;if(t.uuid){if(I=(0,c.arrayify)(t.uuid),16!==I.length)throw new Error("invalid uuid")}else I=(0,f.O)(16);let O=1<<17,C=8,A=1;return t.scrypt&&(t.scrypt.N&&(O=t.scrypt.N),t.scrypt.r&&(C=t.scrypt.r),t.scrypt.p&&(A=t.scrypt.p)),i().scrypt(p,m,O,C,A,64,n).then((e=>{const t=(e=(0,c.arrayify)(e)).slice(0,16),n=e.slice(16,32),i=e.slice(32,64),a=new(o().Counter)(R),l=new(o().ModeOfOperation.ctr)(t,a),p=(0,c.arrayify)(l.encrypt(s)),E=(0,u.keccak256)((0,c.concat)([n,p])),w={address:r.address.substring(2).toLowerCase(),id:(0,d.EH)(I),version:3,crypto:{cipher:"aes-128-ctr",cipherparams:{iv:(0,c.hexlify)(R).substring(2)},ciphertext:(0,c.hexlify)(p).substring(2),kdf:"scrypt",kdfparams:{salt:(0,c.hexlify)(m).substring(2),n:O,dklen:32,p:A,r:C},mac:E.substring(2)}};if(h){const r=(0,f.O)(16),e=new(o().Counter)(r),t=new(o().ModeOfOperation.ctr)(i,e),n=(0,c.arrayify)(t.encrypt(h)),s=new Date,a=s.getUTCFullYear()+"-"+(0,d.VP)(s.getUTCMonth()+1,2)+"-"+(0,d.VP)(s.getUTCDate(),2)+"T"+(0,d.VP)(s.getUTCHours(),2)+"-"+(0,d.VP)(s.getUTCMinutes(),2)+"-"+(0,d.VP)(s.getUTCSeconds(),2)+".0Z";w["x-ethers"]={client:N,gethFilename:"UTC--"+a+"--"+w.address,mnemonicCounter:(0,c.hexlify)(r).substring(2),mnemonicCiphertext:(0,c.hexlify)(n).substring(2),path:g,locale:y,version:"0.1"}}return JSON.stringify(w)}))}},36379:(r,e,t)=>{t.d(e,{p3:()=>s,VP:()=>i,Ij:()=>a,gx:()=>c,EH:()=>l});var n=t(80928),o=t(22172);function s(r){return"string"===typeof r&&"0x"!==r.substring(0,2)&&(r="0x"+r),(0,n.arrayify)(r)}function i(r,e){for(r=String(r);r.length<e;)r="0"+r;return r}function a(r){return"string"===typeof r?(0,o.Y0)(r,o.Uj.NFKC):(0,n.arrayify)(r)}function c(r,e){let t=r;const n=e.toLowerCase().split("/");for(let o=0;o<n.length;o++){let r=null;for(const e in t)if(e.toLowerCase()===n[o]){r=t[e];break}if(null===r)return null;t=r}return t}function l(r){const e=(0,n.arrayify)(r);e[6]=15&e[6]|64,e[8]=63&e[8]|128;const t=(0,n.hexlify)(e);return[t.substring(2,10),t.substring(10,14),t.substring(14,18),t.substring(18,22),t.substring(22,34)].join("-")}},17235:(r,e,t)=>{t.r(e),t.d(e,{keccak256:()=>i});var n=t(16348),o=t.n(n),s=t(80928);function i(r){return"0x"+o().keccak_256((0,s.arrayify)(r))}},78663:(r,e,t)=>{t.r(e),t.d(e,{ErrorCode:()=>u,LogLevel:()=>l,Logger:()=>f});let n=!1,o=!1;const s={debug:1,default:2,info:2,warning:3,error:4,off:5};let i=s.default,a=null;const c=function(){try{const r=[];if(["NFD","NFC","NFKD","NFKC"].forEach((e=>{try{if("test"!=="test".normalize(e))throw new Error("bad normalize")}catch(t){r.push(e)}})),r.length)throw new Error("missing "+r.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken implementation")}catch(r){return r.message}return null}();var l,u;!function(r){r.DEBUG="DEBUG",r.INFO="INFO",r.WARNING="WARNING",r.ERROR="ERROR",r.OFF="OFF"}(l||(l={})),function(r){r.UNKNOWN_ERROR="UNKNOWN_ERROR",r.NOT_IMPLEMENTED="NOT_IMPLEMENTED",r.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",r.NETWORK_ERROR="NETWORK_ERROR",r.SERVER_ERROR="SERVER_ERROR",r.TIMEOUT="TIMEOUT",r.BUFFER_OVERRUN="BUFFER_OVERRUN",r.NUMERIC_FAULT="NUMERIC_FAULT",r.MISSING_NEW="MISSING_NEW",r.INVALID_ARGUMENT="INVALID_ARGUMENT",r.MISSING_ARGUMENT="MISSING_ARGUMENT",r.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",r.CALL_EXCEPTION="CALL_EXCEPTION",r.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",r.NONCE_EXPIRED="NONCE_EXPIRED",r.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",r.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",r.TRANSACTION_REPLACED="TRANSACTION_REPLACED",r.ACTION_REJECTED="ACTION_REJECTED"}(u||(u={}));const p="0123456789abcdef";class f{constructor(r){Object.defineProperty(this,"version",{enumerable:!0,value:r,writable:!1})}_log(r,e){const t=r.toLowerCase();null==s[t]&&this.throwArgumentError("invalid log level name","logLevel",r),i>s[t]||console.log.apply(console,e)}debug(){for(var r=arguments.length,e=new Array(r),t=0;t<r;t++)e[t]=arguments[t];this._log(f.levels.DEBUG,e)}info(){for(var r=arguments.length,e=new Array(r),t=0;t<r;t++)e[t]=arguments[t];this._log(f.levels.INFO,e)}warn(){for(var r=arguments.length,e=new Array(r),t=0;t<r;t++)e[t]=arguments[t];this._log(f.levels.WARNING,e)}makeError(r,e,t){if(o)return this.makeError("censored error",e,{});e||(e=f.errors.UNKNOWN_ERROR),t||(t={});const n=[];Object.keys(t).forEach((r=>{const e=t[r];try{if(e instanceof Uint8Array){let t="";for(let r=0;r<e.length;r++)t+=p[e[r]>>4],t+=p[15&e[r]];n.push(r+"=Uint8Array(0x"+t+")")}else n.push(r+"="+JSON.stringify(e))}catch(a){n.push(r+"="+JSON.stringify(t[r].toString()))}})),n.push(`code=${e}`),n.push(`version=${this.version}`);const s=r;let i="";switch(e){case u.NUMERIC_FAULT:{i="NUMERIC_FAULT";const e=r;switch(e){case"overflow":case"underflow":case"division-by-zero":i+="-"+e;break;case"negative-power":case"negative-width":i+="-unsupported";break;case"unbound-bitwise-result":i+="-unbound-result"}break}case u.CALL_EXCEPTION:case u.INSUFFICIENT_FUNDS:case u.MISSING_NEW:case u.NONCE_EXPIRED:case u.REPLACEMENT_UNDERPRICED:case u.TRANSACTION_REPLACED:case u.UNPREDICTABLE_GAS_LIMIT:i=e}i&&(r+=" [ See: https://links.ethers.org/v5-errors-"+i+" ]"),n.length&&(r+=" ("+n.join(", ")+")");const a=new Error(r);return a.reason=s,a.code=e,Object.keys(t).forEach((function(r){a[r]=t[r]})),a}throwError(r,e,t){throw this.makeError(r,e,t)}throwArgumentError(r,e,t){return this.throwError(r,f.errors.INVALID_ARGUMENT,{argument:e,value:t})}assert(r,e,t,n){r||this.throwError(e,t,n)}assertArgument(r,e,t,n){r||this.throwArgumentError(e,t,n)}checkNormalize(r){null==r&&(r="platform missing String.prototype.normalize"),c&&this.throwError("platform missing String.prototype.normalize",f.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:c})}checkSafeUint53(r,e){"number"===typeof r&&(null==e&&(e="value not safe"),(r<0||r>=9007199254740991)&&this.throwError(e,f.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:r}),r%1&&this.throwError(e,f.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:r}))}checkArgumentCount(r,e,t){t=t?": "+t:"",r<e&&this.throwError("missing argument"+t,f.errors.MISSING_ARGUMENT,{count:r,expectedCount:e}),r>e&&this.throwError("too many arguments"+t,f.errors.UNEXPECTED_ARGUMENT,{count:r,expectedCount:e})}checkNew(r,e){r!==Object&&null!=r||this.throwError("missing new",f.errors.MISSING_NEW,{name:e.name})}checkAbstract(r,e){r===e?this.throwError("cannot instantiate abstract class "+JSON.stringify(e.name)+" directly; use a sub-class",f.errors.UNSUPPORTED_OPERATION,{name:r.name,operation:"new"}):r!==Object&&null!=r||this.throwError("missing new",f.errors.MISSING_NEW,{name:e.name})}static globalLogger(){return a||(a=new f("logger/5.7.0")),a}static setCensorship(r,e){if(!r&&e&&this.globalLogger().throwError("cannot permanently disable censorship",f.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),n){if(!r)return;this.globalLogger().throwError("error censorship permanent",f.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}o=!!r,n=!!e}static setLogLevel(r){const e=s[r.toLowerCase()];null!=e?i=e:f.globalLogger().warn("invalid log level - "+r)}static from(r){return new f(r)}}f.errors=u,f.levels=l}}]);